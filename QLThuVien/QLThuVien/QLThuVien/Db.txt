GO
	USE MASTER
GO
	DROP DATABASE QuanLyThuVien 
GO
	CREATE DATABASE QuanLyThuVien
GO
	USE QuanLyThuVien
GO
	CREATE TABLE SACH(
		ID INT IDENTITY PRIMARY KEY,
		MASACH NVARCHAR(MAX),
		TEN NVARCHAR(MAX),
		TACGIA NVARCHAR(MAX),
		NHAXUATBAN NVARCHAR(MAX),
		SOLUONG INT
	)
GO
	CREATE TABLE NHANVIEN(
		ID INT IDENTITY PRIMARY KEY,
		MANV NVARCHAR(MAX),
		TEN NVARCHAR(MAX),
		NGAYSINH DATETIME,
		GIOITINH INT, -- 1 : NAM, 0: NU
		QUEQUAN NVARCHAR(MAX),
		SDT NVARCHAR(MAX),
		TAIKHOAN NVARCHAR(MAX),
		MATKHAU NVARCHAR(MAX),
		QUYEN INT -- 1: admin, 0: nhan vien
	)
GO
	CREATE TABLE DOCGIA(
		ID INT IDENTITY PRIMARY KEY,
		MADOCGIA NVARCHAR(MAX),
		TEN NVARCHAR(MAx),
		NGAYSINH DATETIME,
		GIOITINH INT,
		QUEQUAN NVARCHAR(MAX),
		SDT NVARCHAR(MAX),
	)
GO
	CREATE TABLE PHIEUMUON(
		ID INT IDENTITY PRIMARY KEY,
		NHANVIENID INT,
			FOREIGN KEY (NHANVIENID) REFERENCES NHANVIEN(ID),
		DOCGIAID INT,
			FOREIGN KEY (DOCGIAID) REFERENCES DOCGIA(ID),
		SOLUONG INT
	)
GO
	CREATE TABLE CHITIETMUON(
		ID INT IDENTITY PRIMARY KEY,
		PHIEUMUONID INT,
			FOREIGN KEY (PHIEUMUONID) REFERENCES PHIEUMUON(ID),
		SACHID INT,
			FOREIGN KEY (SACHID) REFERENCES SACH(ID),
		SOLUONG INT,
	)
GO